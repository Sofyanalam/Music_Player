<!DOCTYPE html>
<html>
  <head>
    <title>Tunify</title>
    <link rel="icon" href="css-files/logo.jpeg">
    <link rel="stylesheet" href="css-files/project.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  </head>
  <body>
    <div class="header">
      <img class="homeicon" title="Home" src="css-files/house.svg">
      <img class="searchicon" title="Search" src="css-files/search.svg">
      <input class="search" type="textbox" placeholder="Search">
      <img class="notificationicon" title="Notification" src="css-files/bell.svg">
      <button class="premium">Explore Premium</button>
      <button class="signup">Sign Up</button>
    </div>
    <div class="sidebar">
      <div class="top_sidebar">
        <img src="css-files/logo.jpeg">
        <div class="sidebarheading">Tunify</div>
      </div>
      <div class="music-note">
        <h4 class="active"><span></span><i class="bi bi-music-note"></i>Playlist</h4>
        <h4><span></span><i class="bi bi-music-note"></i>Last Listening</h4>
        <h4><span></span><i class="bi bi-music-note"></i>Recommended</h4>
      </div>
      <div class="menu_song">
        <li class="song1">
          <span>01</span>
          <img src="css-files/New-York-Hindi-2009-20190329182537-500x500.jpg">
          <h5>Tune Jo Na Kaha <br>
            <div class="subtitle"><span>Pritam,Mohit Chauhan,Sandeep Shrivastava</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song2">
          <span>02</span>
          <img src="css-files/tere bina.jpeg">
          <h5>Tere Bina<br>
            <div class="subtitle"><span>A.R Rahman,Chinmayi,Murtuza Khan</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song3">
          <span>03</span>
          <img src="css-files/mere humsafar.jpeg">
          <h5>Mere Humsafar<br>
            <div class="subtitle"><span>Yashal Shahid</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song4">
          <span>04</span>
          <img src="css-files/teri deewani.jpg">
          <h5>Teri Deewani<br>
            <div class="subtitle"><span>Kailash Kher,Paresh Kamath,Naresh Kamath</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song5">
          <span>05</span>
          <img src="css-files/milne hai mujhse aayi.webp">
          <h5>Meri Aashique<br>
            <div class="subtitle"><span>Palak Muchhal,Arijit Singh</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song6">
          <span>06</span>
          <img src="css-files/saiyyan.jpeg">
          <h5>Saiyyan<br>
            <div class="subtitle"><span>Kailash Kher,Paresh Kamath,Naresh Kamath</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song7">
          <span>07</span>
          <img src="css-files/jeena jeena.jpeg">
          <h5>Jeena Jeena<br>
            <div class="subtitle"><span>Atif Aslam,Sachin Jingar,Priya Saraiya</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
        <li class="song8">
          <span>08</span>
          <img src="css-files/pal pal.jpeg">
          <h5>Pal Pal Dil Ke Paas<br>
            <div class="subtitle"><span>Kishore Kumar</span></div>
          </h5>
          <i class="bi bi-play-circle-fill"></i>
        </li>
      </div>
    </div>
    <div class="bottombar">
      <div class="wave">
        <div class="wave1"></div>
        <div class="wave2"></div>
        <div class="wave3"></div>
        <div class="wave4"></div>
        <div class="wave5"></div>
        <div class="wave6"></div>
      </div>
      <div class="developer">
        ~ Sofyan Alam
      </div>
    </div>
    <div class="now" role="region" aria-label="Now playing">
      <div class="art" id="art">
        <img id="artImg" src="" alt="" style="display:none">
        <div id="artFallback">NO ART</div>
      </div>

      <div class="meta">
        <div>
          <div class="title" id="title">Title</div>
          <div class="artist" id="artist">Artist</div>
        </div>

        <div class="controls" role="group">
          <button class="btn" id="prevBtn" title="Previous">‚èÆ</button>
          <button class="btn big" id="playBtn" title="Play/Pause">‚ñ∂</button>
          <button class="btn" id="nextBtn" title="Next">‚è≠</button>
          <div style="margin-left:auto;color:var(--muted);font-size:13px">Now Playing</div>
        </div>

        <div class="progress" id="progressWrap">
          <div class="progress-bar" id="progressBar" aria-label="Playback progress" role="slider" tabindex="0">
            <div class="progress-filled" id="progressFilled"></div>
          </div>
          <div class="time"><span id="currentTime">0:00</span><span id="duration">0:00</span></div>
        </div>
      </div>
    </div>
    <!--Shuffle button -->
    <div class="shuffle-control">
      <i class="bi bi-shuffle" id="shuffleBtn" title="Shuffle"></i>
      <i class="bi bi-cloud-arrow-down-fill" title="Download" id="download-music"></i>
      <!--Volume Control -->
      <div class="volume-control">
        <i class="bi bi-volume-up-fill" title="Volume" id="volIcon"></i>
        <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="1">
      </div>
    </div>  
    <script>
      // Song list
const songs = [
  {
    title: "Tune Jo Na Kaha",
    artist: "Pritam,Mohit Chauhan,Sandeep Shrivastava",
    src: "songs/Tune Jo Na Kaha.mp3",
    cover: "css-files/New-York-Hindi-2009-20190329182537-500x500.jpg"
  },
  {
    title: "Tere Bina",
    artist: "A.R Rahman,Chinmayi,Murtuza Khan",
    src: "songs/Tere Bina.mp3",
    cover: "css-files/tere bina.jpeg",
  },
  {
    title: "Mere Humsafar",
    artist: "Yashal Shahid",
    src: "songs/Mere Humsafar.mp3",
    cover: "css-files/mere humsafar.jpeg"
  },
  {
    title: "Teri Deewani",
    artist: "Kailash Kher,Paresh Kamath,Naresh Kamath",
    src: "songs/Teri Deewani.mp3",
    cover: "css-files/teri deewani.jpg"
  },
  {
    title: "Meri Aashique",
    artist: "Palak Muchhal,Arijit Singh",
    src: "songs/Meri Aashiqui.mp3",
    cover: "css-files/milne hai mujhse aayi.webp"
  },
  {
    title: "Saiyyan",
    artist: "Kailash Kher,Paresh Kamath,Naresh Kamath",
    src: "songs/Saiyyan.mp3",
    cover: "css-files/saiyyan.jpeg"
  },
  {
    title: "Jeena Jeena",
    artist: "Atif Aslam,Sachin Jingar,Priya Saraiya",
    src: "songs/Jeena Jeena.mp3",
    cover: "css-files/jeena jeena.jpeg"
  },
  {
    title: "Pal Pal Dil Ke Paas",
    artist: "Kishore Kumar",
    src: "songs/Pal Pal Dil Ke Paas .mp3",
    cover: "css-files/pal pal.jpeg"
  },

];

let currentSongIndex = 0;
let isPlaying = false;

// Elements
const audio = new Audio();
const playBtn = document.getElementById("playBtn");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const titleEl = document.getElementById("title");
const artistEl = document.getElementById("artist");
const artImg = document.getElementById("artImg");
const artFallback = document.getElementById("artFallback");
const currentTimeEl = document.getElementById("currentTime");
const durationEl = document.getElementById("duration");
const progressBar = document.getElementById("progressBar");
const progressFilled = document.getElementById("progressFilled");

// Load a song
function loadSong(index) {
  const song = songs[index];
  audio.src = song.src;
  titleEl.textContent = song.title;
  artistEl.textContent = song.artist;

  if (song.cover) {
    artImg.src = song.cover;
    artImg.style.display = "block";
    artFallback.style.display = "none";
  } else {
    artImg.style.display = "none";
    artFallback.style.display = "block";
  }
  // üî• Highlight active song in sidebar
  document.querySelectorAll(".menu_song li").forEach((el, i) => {
    el.classList.toggle("active-song", i === index);
  });
}

// Play / Pause
function playSong() {
  isPlaying = true;
  audio.play();
  playBtn.textContent = "‚è∏"; // change button to pause
}

function pauseSong() {
  isPlaying = false;
  audio.pause();
  playBtn.textContent = "‚ñ∂"; // change button to play
}

playBtn.addEventListener("click", () => {
  if (isPlaying) pauseSong();
  else playSong();
});

// Next / Prev
prevBtn.addEventListener("click", () => {
  currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
  loadSong(currentSongIndex);
  playSong();
});
// Shuffle control
let isShuffle = false;
const shuffleBtn = document.getElementById("shuffleBtn");

// Toggle shuffle on button click
shuffleBtn.addEventListener("click", () => {
  isShuffle = !isShuffle;
  shuffleBtn.classList.toggle("active", isShuffle);
});

// Modify Next button to support shuffle
nextBtn.addEventListener("click", () => {
  if (isShuffle) {
    let randomIndex;
    do {
      randomIndex = Math.floor(Math.random() * songs.length);
    } while (randomIndex === currentSongIndex); // avoid repeating same song
    currentSongIndex = randomIndex;
  } else {
    currentSongIndex = (currentSongIndex + 1) % songs.length;
  }
  loadSong(currentSongIndex);
  playSong();
});

// Progress bar
audio.addEventListener("timeupdate", () => {
  const { currentTime, duration } = audio;
  if (duration) {
    const progressPercent = (currentTime / duration) * 100;
    progressFilled.style.width = `${progressPercent}%`;

    // update times
    currentTimeEl.textContent = formatTime(currentTime);
    durationEl.textContent = formatTime(duration);
  }
});

progressBar.addEventListener("click", (e) => {
  const width = progressBar.clientWidth;
  const clickX = e.offsetX;
  const duration = audio.duration;
  audio.currentTime = (clickX / width) * duration;
});

// Format time mm:ss
function formatTime(sec) {
  const minutes = Math.floor(sec / 60);
  const seconds = Math.floor(sec % 60).toString().padStart(2, "0");
  return `${minutes}:${seconds}`;
}

// Load first song on page load
loadSong(currentSongIndex);

// Connect sidebar songs
const songItems = document.querySelectorAll(".menu_song li");

songItems.forEach((item, index) => {
  item.addEventListener("click", () => {
    currentSongIndex = index;
    loadSong(currentSongIndex); // updates Now Playing section
    playSong(); // start playback

    // Optional: highlight the active song in sidebar
    songItems.forEach(li => li.classList.remove("active-song"));
    item.classList.add("active-song");
  });
});

  // Search functionality
const searchInput = document.querySelector(".search");

searchInput.addEventListener("input", () => {
  const query = searchInput.value.toLowerCase().trim();
  
  songItems.forEach((item, index) => {
    const title = songs[index].title.toLowerCase();
    const artist = songs[index].artist.toLowerCase();

    // Match title or artist
    if (title.includes(query) || artist.includes(query)) {
      item.style.display = "flex"; // show
    } else {
      item.style.display = "none"; // hide
    }
  });
});
// Volume control elements
const volumeBar = document.getElementById("volumeBar");
const volIcon = document.getElementById("volIcon");

// Update volume when slider moves
volumeBar.addEventListener("input", () => {
  audio.volume = volumeBar.value;

  // Change icon depending on volume level
  if (audio.volume == 0) {
    volIcon.className = "bi bi-volume-mute";
  } else if (audio.volume < 0.5) {
    volIcon.className = "bi bi-volume-down";
  } else {
    volIcon.className = "bi bi-volume-up";
  }
});

// Optional: click icon to mute/unmute
volIcon.addEventListener("click", () => {
  if (audio.volume > 0) {
    audio.dataset.lastVolume = audio.volume; // save last volume
    audio.volume = 0;
    volumeBar.value = 0;
    volIcon.className = "bi bi-volume-mute";
  } else {
    audio.volume = audio.dataset.lastVolume || 1;
    volumeBar.value = audio.volume;
    volIcon.className = audio.volume < 0.5 ? "bi bi-volume-down" : "bi bi-volume-up";
  }
});
// Auto play next when song ends
audio.addEventListener("ended", () => {
  if (isShuffle) {
    // pick a random song that is not the current one
    let randomIndex;
    do {
      randomIndex = Math.floor(Math.random() * songs.length);
    } while (randomIndex === currentSongIndex);
    currentSongIndex = randomIndex;
  } else {
    // move to next song in list
    currentSongIndex = (currentSongIndex + 1) % songs.length;
  }

  loadSong(currentSongIndex);
  playSong();
});


    </script>
  </body>
</html>